#coding: utf-8

import unittest
from hierarchical_model import BinTree

class RandDouble(object):
    """ Test Double
    rand(): 1.0 -> 0.0 -> 1.0 -> ..."""

    def __init__(self):
        self.nextval = 1.0
    def rand(self):
        retval = self.nextval
        self.nextval = abs(retval - 1.0)
        return retval


class TestBinTree(unittest.TestCase):
    def test_can_born_two_children(self):
        r = RandDouble()

        bt = BinTree(r.rand)
        self.assertEqual(
            (-1, 1),
            bt.born_two_children(1)
        )

    def test_can_born_list_children(self):
        r = RandDouble()

        bt = BinTree(r.rand)
        self.assertEqual(
            [-1,1 , 1,-1 , 1,-1 , -1,1],
            bt.born_next_children([-1, 1, 1, -1])
        )

if __name__ == "__main__":
    unittest.main()
